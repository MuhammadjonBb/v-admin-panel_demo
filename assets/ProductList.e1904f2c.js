import{Q as $,a as n,b as E,c as S,S as U}from"./QTable.0dae5795.js";import{Q as P}from"./QCheckbox.a8a936e0.js";import{aD as z,aE as B,P as C,r as V,w as L,S as m,U as g,V as t,j as a,$ as i,_ as o,Q as _,Z as N,a2 as b,aF as w,D as h,W as r,o as T,Y as A}from"./index.94fa42e8.js";import{g as I,e as y,f as x}from"./QItemLabel.1e01a216.js";import{Q as F}from"./QList.cbde4cd1.js";import{e as M,Q}from"./QSelect.d2bb26c1.js";import{Q as j}from"./QSpace.41fc64f0.js";import{C as v}from"./ClosePopup.19d47213.js";import"./QCard.a4ca1398.js";import"./QSeparator.5d694be6.js";const D=z("lists",{state:()=>({listData:[]}),actions:{async getList(){B(()=>import("./products.84a46632.js"),[]).then(d=>{this.listData=d.default})},getStatusClass(d){return d==="\u041D\u043E\u0432\u0438\u043D\u043A\u0438"?"positive text-white":d==="\u0425\u0438\u0442 \u043F\u0440\u043E\u0434\u0430\u0436"?"red-6 text-white":d==="\u041E\u0431\u044B\u0447\u043D\u044B\u0439"?"grey-4 text-black":"red-4 text-white"}}});const R={class:"row items-center q-pa-sm full-width bg-white"},O={class:"row items-center q-mr-md"},W={class:"text-grey-7",style:{"font-size":"15px"}},Y={class:"text-grey-8",style:{"font-size":"15px"}},Z={class:"row items-center"},G={class:"text-grey-7",style:{"font-size":"15px"}},H={class:"row items-center"},J=C({__name:"ListTable",setup(d){const u=V([]),f=V(!1),c=D(),q=[{name:"id",label:"ID",field:l=>l.id,align:"left",icon:!0,sortable:!0},{name:"name",required:!0,label:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0442\u043E\u0432\u0430\u0440\u0430",field:l=>l.name_ru,style:"max-width: 3000px",align:"left",sortable:!0,icon:!0},{name:"price",align:"left",label:"\u0426\u0435\u043D\u0430",field:l=>l.price,icon:!1},{name:"count",label:"\u041A\u043E\u043B-\u0432\u043E",field:"count",align:"left",icon:!0,sortable:!0},{name:"category",label:"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F",field:l=>l.category_ru,align:"left",icon:!0,sortable:!0},{name:"status",label:"\u0421\u0442\u0430\u0442\u0443\u0441",field:l=>l.status_ru,align:"left",icon:!1},{name:"action",label:"",align:"left",icon:!1}];function k(l){const p=[];for(let e=1;e<=l;e++)p.push(e);return p}return L(f,()=>{f.value?(u.value.splice(0,u.value.length),c.listData.forEach(l=>{u.value.push(l)})):u.value.splice(0,u.value.length)}),(l,p)=>(m(),g(S,{selected:u.value,"onUpdate:selected":p[0]||(p[0]=e=>u.value=e),columns:q,rows:b(c).listData,dense:"","row-key":"id",selection:"multiple",class:"q-mt-sm bg-grey-2 list__tab",flat:"","table-style":"overflow:visible; margin-top:30px;","table-header-style":"font-weight: 500;font-size: 14px; background-color:white; position: relative; top: -20px; margin-bottom:30px;  z-index: 1;","table-header-class":"text-grey-7 q-pa-none"},{"header-selection":t(e=>[a(P,{modelValue:e.selected,"onUpdate:modelValue":s=>e.selected=s},null,8,["modelValue","onUpdate:modelValue"])]),"header-cell":t(e=>[a($,{props:e},{default:t(()=>[i(o(e.col.label)+" ",1),e.col.icon?(m(),g(_,{key:0,size:"16px",class:"text-weight-bold",name:"filter_list"})):N("",!0)]),_:2},1032,["props"])]),"body-selection":t(e=>[a(n,{class:"bg-white",scope:e},{default:t(()=>[a(P,{modelValue:e.selected,"onUpdate:modelValue":s=>e.selected=s},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["scope"])]),"body-cell-id":t(e=>[a(n,{class:"bg-white",props:e},{default:t(()=>[i(o(e.row.id),1)]),_:2},1032,["props"])]),"body-cell-name":t(e=>[a(n,{class:"bg-white",props:e},{default:t(()=>[i(o(e.row.name),1)]),_:2},1032,["props"])]),"body-cell-status":t(e=>[a(n,{class:"bg-white",props:e},{default:t(()=>[a(I,{square:"",color:b(c).getStatusClass(e.row.status),class:"full-width justify-center"},{default:t(()=>[i(o(e.row.status),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-price":t(e=>[a(n,{class:"bg-white",props:e},{default:t(()=>[i(o(e.row.price.toLocaleString("en-US")+" $"),1)]),_:2},1032,["props"])]),"body-cell-count":t(e=>[a(n,{style:{"background-color":"white"},props:e},{default:t(()=>[i(o(e.row.count),1)]),_:2},1032,["props"])]),"body-cell-category":t(e=>[a(n,{class:"bg-white",props:e},{default:t(()=>[i(o(e.row.category),1)]),_:2},1032,["props"])]),"body-cell-action":t(e=>[a(n,{class:"bg-white",props:e},{default:t(()=>[a(w,{flat:"",icon:"more_vert",rounded:"",dense:""}),a(M,null,{default:t(()=>[a(F,{style:{"min-width":"150px"}},{default:t(()=>[h((m(),g(y,null,{default:t(()=>[a(x,null,{default:t(()=>[a(w,{dense:"",flat:"",class:"text-capitalize text-left",to:{path:`update/${e.row.id}`},onClick:s=>b(c).getListId(e.row.id),"text-color":"grey-8"},{default:t(()=>[a(_,{size:"xs",name:"edit",color:"positive",class:"on-left"}),i(" \u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C ")]),_:2},1032,["to","onClick"])]),_:2},1024)]),_:2},1024)),[[v]]),h((m(),g(y,null,{default:t(()=>[a(x,{class:"flex"},{default:t(()=>[a(w,{dense:"",flat:"",class:"text-capitalize text-left","text-color":"grey-8"},{default:t(()=>[a(_,{name:"content_copy",size:"xs",color:"primary",class:"on-left"}),i(" \u0414\u0443\u0431\u043B\u0438\u0440\u043E\u0432\u0430\u0442\u044C ")]),_:1})]),_:1})]),_:1})),[[v]]),h((m(),g(y,null,{default:t(()=>[a(x,{onClick:s=>b(c).deleteProduct(e.row.id)},{default:t(()=>[a(w,{dense:"",flat:"",class:"text-capitalize text-left","text-color":"grey-8"},{default:t(()=>[a(_,{name:"delete",size:"xs",color:"negative",class:"on-left"}),i(" \u0423\u0434\u0430\u043B\u0438\u0442\u044C ")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)),[[v]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["props"])]),bottom:t(e=>[r("div",R,[r("div",O,[a(Q,{"dropdown-icon":"expand_more",borderless:"",dense:"",modelValue:e.pagination.rowsPerPage,"onUpdate:modelValue":s=>e.pagination.rowsPerPage=s,options:[5,10,20,50],"emit-value":"",class:"q-mr-sm q-pl-md q-pr-sm bg-grey-3",style:{"border-radius":"12px"}},null,8,["modelValue","onUpdate:modelValue"]),r("span",W,o(l.$t("table.elmPerPage")),1)]),r("div",Y,o(e.pagination.rowsPerPage*e.pagination.page-e.pagination.rowsPerPage==0?1:e.pagination.rowsPerPage*e.pagination.page-e.pagination.rowsPerPage)+" - "+o(e.pagination.rowsPerPage*e.pagination.page)+" "+o(l.$t("table.from"))+" "+o(e.pagesNumber*e.pagination.rowsPerPage)+" "+o(l.$t("table.items")),1),a(j),r("div",Z,[a(Q,{"dropdown-icon":"expand_more",borderless:"",dense:"",modelValue:e.pagination.page,"onUpdate:modelValue":s=>e.pagination.page=s,options:k(e.pagesNumber),"emit-value":"",class:"q-mr-sm q-pl-md q-pr-sm bg-grey-3",style:{"border-radius":"12px"}},null,8,["modelValue","onUpdate:modelValue","options"]),r("span",G,o(l.$t("table.from"))+" "+o(e.pagesNumber)+" "+o(l.$t("table.pages")),1)]),r("div",H,[a(E,{dense:"",modelValue:e.pagination.page,"onUpdate:modelValue":s=>e.pagination.page=s,min:1,"no-number":"",max:e.pagesNumber,"direction-links":"",color:"grey"},null,8,["modelValue","onUpdate:modelValue","max"])])])]),_:1},8,["selected","rows"]))}}),K={class:"q-px-md q-mb-sm main__container"},X={class:"text-h5 text-weight-bold q-my-md"},de=C({__name:"ProductList",setup(d){const u=D();return T(()=>{u.getList()}),(f,c)=>(m(),A("div",K,[r("div",X,o(f.$t("product.title")),1),a(U,{dynamicRoute:"create",isModal:!1}),a(J)]))}});export{de as default};
