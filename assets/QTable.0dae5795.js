import{aG as kt,P as xt,aH as Bt,r as I,S as Rt,U as Tt,V as z,j as D,aF as W,$ as je,_ as ve,Q as Ve,W as be,aI as Vt,aJ as pt,z as G,h as u,G as ne,O as Ft,g as J,c as r,aK as Ot,w as j,aL as Qe,aM as $t,ae as Lt,d as We,o as Ge,an as Mt,ab as Nt,C as Je,a6 as Ee,K as Xe,ax as Dt,ay as jt,as as Qt,a9 as Ae,aN as Te,aO as ze,aP as Et,B as Ye,aQ as At,ag as le}from"./index.94fa42e8.js";import{Q as Ze,e as zt,f as It,a as me,c as ye,h as Ht}from"./QItemLabel.1e01a216.js";import{Q as Ie,a as Ut}from"./QCard.a4ca1398.js";import{Q as Kt}from"./QSpace.41fc64f0.js";import{Q as et,d as Wt,f as Gt,g as Jt,h as tt}from"./QSelect.d2bb26c1.js";import{u as Xt}from"./ClosePopup.19d47213.js";import{Q as Yt}from"./QSeparator.5d694be6.js";import{Q as Zt}from"./QList.cbde4cd1.js";import{Q as Re}from"./QCheckbox.a8a936e0.js";var el="/v-admin-panel_demo/assets/filter.44ec6723.svg";const tl=e=>(Vt("data-v-56d0d007"),e=e(),pt(),e),ll=tl(()=>be("img",{src:el,alt:"filter_icon",sizes:"10px",class:"q-mr-sm"},null,-1)),al={class:"flex items-center"},nl={class:"text-weight-bold q-mr-sm"},ol=xt({__name:"SearchFilterCreatePanel",props:["dynamicRoute","isModal"],setup(e){const l=Bt(),o=["filterPanel.filterOptions.byName","filterPanel.filterOptions.byPrice","filterPanel.filterOptions.byIncrease"],v=I(o[0]),s=I(""),d=Xt();function n(i,c=!1){console.log(c&&typeof i=="object"),!c&&typeof i=="string"?l.push(i):c&&typeof i=="object"&&(d.modal[i.component][i.modalName]=!0)}return(i,c)=>(Rt(),Tt(Ut,{class:"q-pa-md",flat:""},{default:z(()=>[D(Ie,{horizontal:""},{default:z(()=>[D(Ie,{class:"flex justify-center items-center",horizontal:""},{default:z(()=>[D(W,{flat:"",size:"10px",class:"bg-blue flex justify-center items-center q-mr-md q-pa-sm btn q-pr-md",color:"white"},{default:z(()=>[ll,je(" "+ve(i.$t("filterPanel.filter")),1)]),_:1}),D(Ze,{dense:"",modelValue:s.value,"onUpdate:modelValue":c[0]||(c[0]=g=>s.value=g),borderless:"",class:"search-input q-px-md",placeholder:i.$t("search")},{prepend:z(()=>[D(Ve,{name:"search",color:"primary"})]),_:1},8,["modelValue","placeholder"])]),_:1}),D(Kt),be("div",al,[be("span",nl,ve(i.$t("filterPanel.sort")),1),D(et,{"dropdown-icon":"expand_more",borderless:"",class:"bg-grey-1 q-px-md q-pb-xs",style:{"border-radius":"12px"},modelValue:v.value,"onUpdate:modelValue":c[1]||(c[1]=g=>v.value=g),options:o,dense:""},{selected:z(()=>[be("span",null,ve(i.$t(v.value)),1)]),option:z(g=>[D(zt,{onClick:a=>g.toggleOption(g.opt),clickable:""},{default:z(()=>[D(It,null,{default:z(()=>[je(ve(i.$t(g.opt)),1)]),_:2},1024)]),_:2},1032,["onClick"])]),_:1},8,["modelValue"])]),D(W,{icon:"add",size:"sm",label:i.$t("filterPanel.add"),color:"blue",class:"q-ml-md",onClick:c[2]||(c[2]=g=>n(e.dynamicRoute,e.isModal))},null,8,["label"])]),_:1})]),_:1}))}});var zl=kt(ol,[["__scopeId","data-v-56d0d007"]]),rl=G({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:l,emit:o}){const v=J(),{proxy:{$q:s}}=v,d=n=>{o("click",n)};return()=>{if(e.props===void 0)return u("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:d},ne(l.default));let n,i;const c=v.vnode.key;if(c){if(n=e.props.colsMap[c],n===void 0)return}else n=e.props.col;if(n.sortable===!0){const a=n.align==="right"?"unshift":"push";i=Ft(l.default,[]),i[a](u(Ve,{class:n.__iconClass,name:s.iconSet.table.arrowUp}))}else i=ne(l.default);const g={class:n.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:n.headerStyle,onClick:a=>{n.sortable===!0&&e.props.sort(n),d(a)}};return u("th",g,i)}}}),Il=G({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:l}){const o=J(),v=r(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return u("td",{class:v.value},ne(l.default));const s=o.vnode.key,d=(e.props.colsMap!==void 0?e.props.colsMap[s]:null)||e.props.col;if(d===void 0)return;const{row:n}=e.props;return u("td",{class:v.value+d.__tdClass(n),style:d.__tdStyle(n)},ne(l.default))}}});function fe(e,l){return[!0,!1].includes(e)?e:l}var Hl=G({name:"QPagination",props:{...me,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||Ot.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:l}){const{proxy:o}=J(),{$q:v}=o,s=ye(e,v),d=r(()=>parseInt(e.min,10)),n=r(()=>parseInt(e.max,10)),i=r(()=>parseInt(e.maxPages,10)),c=r(()=>k.value+" / "+n.value),g=r(()=>fe(e.boundaryLinks,e.input)),a=r(()=>fe(e.boundaryNumbers,!e.input)),m=r(()=>fe(e.directionLinks,e.input)),q=r(()=>fe(e.ellipses,!e.input)),C=I(null),k=r({get:()=>e.modelValue,set:h=>{if(h=parseInt(h,10),e.disable||isNaN(h))return;const w=Wt(h,d.value,n.value);e.modelValue!==w&&l("update:modelValue",w)}});j(()=>`${d.value}|${n.value}`,()=>{k.value=e.modelValue});const P=r(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),S=r(()=>e.gutter in Qe?`${Qe[e.gutter]}px`:e.gutter||null),F=r(()=>S.value!==null?`--q-pagination-gutter-parent:-${S.value};--q-pagination-gutter-child:${S.value}`:null),T=r(()=>{const h=[e.iconFirst||v.iconSet.pagination.first,e.iconPrev||v.iconSet.pagination.prev,e.iconNext||v.iconSet.pagination.next,e.iconLast||v.iconSet.pagination.last];return v.lang.rtl===!0?h.reverse():h}),$=r(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),x=r(()=>$t(e,"flat")),V=r(()=>({[x.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),X=r(()=>{const h={[x.value]:!1};return e.activeDesign!==""&&(h[e.activeDesign]=!0),h}),Se=r(()=>({...X.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),Q=r(()=>{let h=Math.max(i.value,1+(q.value?2:0)+(a.value?2:0));const w={pgFrom:d.value,pgTo:n.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(n.value).length)}em`}};return i.value&&h<n.value-d.value+1&&(h=1+Math.floor(h/2)*2,w.pgFrom=Math.max(d.value,Math.min(n.value-h+1,e.modelValue-Math.floor(h/2))),w.pgTo=Math.min(n.value,w.pgFrom+h-1),a.value&&(w.boundaryStart=!0,w.pgFrom++),q.value&&w.pgFrom>d.value+(a.value?1:0)&&(w.ellipsesStart=!0,w.pgFrom++),a.value&&(w.boundaryEnd=!0,w.pgTo--),q.value&&w.pgTo<n.value-(a.value?1:0)&&(w.ellipsesEnd=!0,w.pgTo--)),w});function te(h){k.value=h}function N(h){k.value=k.value+h}const H=r(()=>{function h(){k.value=C.value,C.value=null}return{"onUpdate:modelValue":w=>{C.value=w},onKeyup:w=>{Lt(w,13)===!0&&h()},onBlur:h}});function L(h,w,U){const M={"aria-label":w,"aria-current":"false",...V.value,...h};return U===!0&&Object.assign(M,{"aria-current":"true",...Se.value}),w!==void 0&&(e.toFn!==void 0?M.to=e.toFn(w):M.onClick=()=>{te(w)}),u(W,M)}return Object.assign(o,{set:te,setByOffset:N}),()=>{const h=[],w=[];let U;if(g.value===!0&&(h.push(L({key:"bls",disable:e.disable||e.modelValue<=d.value,icon:T.value[0]},d.value)),w.unshift(L({key:"ble",disable:e.disable||e.modelValue>=n.value,icon:T.value[3]},n.value))),m.value===!0&&(h.push(L({key:"bdp",disable:e.disable||e.modelValue<=d.value,icon:T.value[1]},e.modelValue-1)),w.unshift(L({key:"bdn",disable:e.disable||e.modelValue>=n.value,icon:T.value[2]},e.modelValue+1))),e.input!==!0){U=[];const{pgFrom:M,pgTo:Y,marginalStyle:K}=Q.value;if(Q.value.boundaryStart===!0){const p=d.value===e.modelValue;h.push(L({key:"bns",style:K,disable:e.disable,label:d.value},d.value,p))}if(Q.value.boundaryEnd===!0){const p=n.value===e.modelValue;w.unshift(L({key:"bne",style:K,disable:e.disable,label:n.value},n.value,p))}Q.value.ellipsesStart===!0&&h.push(L({key:"bes",style:K,disable:e.disable,label:"\u2026",ripple:!1},M-1)),Q.value.ellipsesEnd===!0&&w.unshift(L({key:"bee",style:K,disable:e.disable,label:"\u2026",ripple:!1},Y+1));for(let p=M;p<=Y;p++)U.push(L({key:`bpg${p}`,style:K,disable:e.disable,label:p},p,p===e.modelValue))}return u("div",{class:P.value,...$.value},[u("div",{class:"q-pagination__content row no-wrap items-center",style:F.value},[...h,e.input===!0?u(Ze,{class:"inline",style:{width:`${c.value.length/1.5}em`},type:"number",dense:!0,value:C.value,disable:e.disable,dark:s.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:c.value,min:d.value,max:n.value,...H.value}):u("div",{class:"q-pagination__middle row justify-center"},U),...w])])}}});const il=["horizontal","vertical","cell","none"];var ul=G({name:"QMarkupTable",props:{...me,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>il.includes(e)}},setup(e,{slots:l}){const o=J(),v=ye(e,o.proxy.$q),s=r(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(v.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>u("div",{class:s.value},[u("table",{class:"q-table"},ne(l.default))])}});function lt(e,l){return u("div",e,[u("table",{class:"q-table"},l)])}const sl={list:Zt,table:ul},cl=["list","table","__qtable"];var dl=G({name:"QVirtualScroll",props:{...Gt,type:{type:String,default:"list",validator:e=>cl.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:l,attrs:o}){let v;const s=I(null),d=r(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:n,localResetVirtualScroll:i,padVirtualScroll:c,onVirtualScrollEvt:g}=Jt({virtualScrollLength:d,getVirtualScrollTarget:k,getVirtualScrollEl:C}),a=r(()=>{if(d.value===0)return[];const T=($,x)=>({index:n.value.from+x,item:$});return e.itemsFn===void 0?e.items.slice(n.value.from,n.value.to).map(T):e.itemsFn(n.value.from,n.value.to-n.value.from).map(T)}),m=r(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),q=r(()=>e.scrollTarget!==void 0?{}:{tabindex:0});j(d,()=>{i()}),j(()=>e.scrollTarget,()=>{S(),P()});function C(){return s.value.$el||s.value}function k(){return v}function P(){v=Ht(C(),e.scrollTarget),v.addEventListener("scroll",g,Ee.passive)}function S(){v!==void 0&&(v.removeEventListener("scroll",g,Ee.passive),v=void 0)}function F(){let T=c(e.type==="list"?"div":"tbody",a.value.map(l.default));return l.before!==void 0&&(T=l.before().concat(T)),Xe(l.after,T)}return We(()=>{i()}),Ge(()=>{P()}),Mt(()=>{P()}),Nt(()=>{S()}),Je(()=>{S()}),()=>{if(l.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?lt({ref:s,class:"q-table__middle "+m.value},F()):u(sl[e.type],{...o,ref:s,class:[o.class,m.value],...q.value},F)}}});const vl={xs:2,sm:4,md:6,lg:10,xl:14};function He(e,l,o){return{transform:l===!0?`translateX(${o.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var fl=G({name:"QLinearProgress",props:{...me,...Dt,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:l}){const{proxy:o}=J(),v=ye(e,o.$q),s=jt(e,vl),d=r(()=>e.indeterminate===!0||e.query===!0),n=r(()=>e.reverse!==e.query),i=r(()=>({...s.value!==null?s.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),c=r(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),g=r(()=>He(e.buffer!==void 0?e.buffer:1,n.value,o.$q)),a=r(()=>`with${e.instantFeedback===!0?"out":""}-transition`),m=r(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${a.value} q-linear-progress__track--${v.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),q=r(()=>He(d.value===!0?1:e.value,n.value,o.$q)),C=r(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${a.value} q-linear-progress__model--${d.value===!0?"in":""}determinate`),k=r(()=>({width:`${e.value*100}%`})),P=r(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${a.value}`);return()=>{const S=[u("div",{class:m.value,style:g.value}),u("div",{class:C.value,style:q.value})];return e.stripe===!0&&d.value===!1&&S.push(u("div",{class:P.value,style:k.value})),u("div",{class:c.value,style:i.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},Xe(l.default,S))}}});let ae=0;const gl={fullscreen:Boolean,noRouteFullscreenExit:Boolean},bl=["update:fullscreen","fullscreen"];function ml(){const e=J(),{props:l,emit:o,proxy:v}=e;let s,d,n;const i=I(!1);Qt(e)===!0&&j(()=>v.$route.fullPath,()=>{l.noRouteFullscreenExit!==!0&&a()}),j(()=>l.fullscreen,m=>{i.value!==m&&c()}),j(i,m=>{o("update:fullscreen",m),o("fullscreen",m)});function c(){i.value===!0?a():g()}function g(){i.value!==!0&&(i.value=!0,n=v.$el.parentNode,n.replaceChild(d,v.$el),document.body.appendChild(v.$el),ae++,ae===1&&document.body.classList.add("q-body--fullscreen-mixin"),s={handler:a},Ae.add(s))}function a(){i.value===!0&&(s!==void 0&&(Ae.remove(s),s=void 0),n.replaceChild(v.$el,d),i.value=!1,ae=Math.max(0,ae-1),ae===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),v.$el.scrollIntoView!==void 0&&setTimeout(()=>{v.$el.scrollIntoView()})))}return We(()=>{d=document.createElement("span")}),Ge(()=>{l.fullscreen===!0&&g()}),Je(a),Object.assign(v,{toggleFullscreen:c,setFullscreen:g,exitFullscreen:a}),{inFullscreen:i,toggleFullscreen:c}}function yl(e,l){return new Date(e)-new Date(l)}const Sl={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function hl(e,l,o,v){const s=r(()=>{const{sortBy:i}=l.value;return i&&o.value.find(c=>c.name===i)||null}),d=r(()=>e.sortMethod!==void 0?e.sortMethod:(i,c,g)=>{const a=o.value.find(C=>C.name===c);if(a===void 0||a.field===void 0)return i;const m=g===!0?-1:1,q=typeof a.field=="function"?C=>a.field(C):C=>C[a.field];return i.sort((C,k)=>{let P=q(C),S=q(k);return P==null?-1*m:S==null?1*m:a.sort!==void 0?a.sort(P,S,C,k)*m:Te(P)===!0&&Te(S)===!0?(P-S)*m:ze(P)===!0&&ze(S)===!0?yl(P,S)*m:typeof P=="boolean"&&typeof S=="boolean"?(P-S)*m:([P,S]=[P,S].map(F=>(F+"").toLocaleString().toLowerCase()),P<S?-1*m:P===S?0:m)})});function n(i){let c=e.columnSortOrder;if(Et(i)===!0)i.sortOrder&&(c=i.sortOrder),i=i.name;else{const m=o.value.find(q=>q.name===i);m!==void 0&&m.sortOrder&&(c=m.sortOrder)}let{sortBy:g,descending:a}=l.value;g!==i?(g=i,a=c==="da"):e.binaryStateSort===!0?a=!a:a===!0?c==="ad"?g=null:a=!1:c==="ad"?a=!0:g=null,v({sortBy:g,descending:a,page:1})}return{columnToSort:s,computedSortMethod:d,sort:n}}const _l={filter:[String,Object],filterMethod:Function};function wl(e,l){const o=r(()=>e.filterMethod!==void 0?e.filterMethod:(v,s,d,n)=>{const i=s?s.toLowerCase():"";return v.filter(c=>d.some(g=>{const a=n(g,c)+"";return(a==="undefined"||a==="null"?"":a.toLowerCase()).indexOf(i)!==-1}))});return j(()=>e.filter,()=>{Ye(()=>{l({page:1},!0)})},{deep:!0}),{computedFilterMethod:o}}function Pl(e,l){for(const o in l)if(l[o]!==e[o])return!1;return!0}function Ue(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const ql={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function Cl(e,l){const{props:o,emit:v}=e,s=I(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:o.rowsPerPageOptions.length>0?o.rowsPerPageOptions[0]:5},o.pagination)),d=r(()=>{const a=o["onUpdate:pagination"]!==void 0?{...s.value,...o.pagination}:s.value;return Ue(a)}),n=r(()=>d.value.rowsNumber!==void 0);function i(a){c({pagination:a,filter:o.filter})}function c(a={}){Ye(()=>{v("request",{pagination:a.pagination||d.value,filter:a.filter||o.filter,getCellValue:l})})}function g(a,m){const q=Ue({...d.value,...a});if(Pl(d.value,q)===!0){n.value===!0&&m===!0&&i(q);return}if(n.value===!0){i(q);return}o.pagination!==void 0&&o["onUpdate:pagination"]!==void 0?v("update:pagination",q):s.value=q}return{innerPagination:s,computedPagination:d,isServerSide:n,requestServerInteraction:c,setPagination:g}}function kl(e,l,o,v,s,d){const{props:n,emit:i,proxy:{$q:c}}=e,g=r(()=>v.value===!0?o.value.rowsNumber||0:d.value),a=r(()=>{const{page:x,rowsPerPage:V}=o.value;return(x-1)*V}),m=r(()=>{const{page:x,rowsPerPage:V}=o.value;return x*V}),q=r(()=>o.value.page===1),C=r(()=>o.value.rowsPerPage===0?1:Math.max(1,Math.ceil(g.value/o.value.rowsPerPage))),k=r(()=>m.value===0?!0:o.value.page>=C.value),P=r(()=>(n.rowsPerPageOptions.includes(l.value.rowsPerPage)?n.rowsPerPageOptions:[l.value.rowsPerPage].concat(n.rowsPerPageOptions)).map(V=>({label:V===0?c.lang.table.allRows:""+V,value:V})));j(C,(x,V)=>{if(x===V)return;const X=o.value.page;x&&!X?s({page:1}):x<X&&s({page:x})});function S(){s({page:1})}function F(){const{page:x}=o.value;x>1&&s({page:x-1})}function T(){const{page:x,rowsPerPage:V}=o.value;m.value>0&&x*V<g.value&&s({page:x+1})}function $(){s({page:C.value})}return n["onUpdate:pagination"]!==void 0&&i("update:pagination",{...o.value}),{firstRowIndex:a,lastRowIndex:m,isFirstPage:q,isLastPage:k,pagesNumber:C,computedRowsPerPageOptions:P,computedRowsNumber:g,firstPage:S,prevPage:F,nextPage:T,lastPage:$}}const xl={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},Bl=["update:selected","selection"];function Rl(e,l,o,v){const s=r(()=>{const k={};return e.selected.map(v.value).forEach(P=>{k[P]=!0}),k}),d=r(()=>e.selection!=="none"),n=r(()=>e.selection==="single"),i=r(()=>e.selection==="multiple"),c=r(()=>o.value.length>0&&o.value.every(k=>s.value[v.value(k)]===!0)),g=r(()=>c.value!==!0&&o.value.some(k=>s.value[v.value(k)]===!0)),a=r(()=>e.selected.length);function m(k){return s.value[k]===!0}function q(){l("update:selected",[])}function C(k,P,S,F){l("selection",{rows:P,added:S,keys:k,evt:F});const T=n.value===!0?S===!0?P:[]:S===!0?e.selected.concat(P):e.selected.filter($=>k.includes(v.value($))===!1);l("update:selected",T)}return{hasSelectionMode:d,singleSelection:n,multipleSelection:i,allRowsSelected:c,someRowsSelected:g,rowsSelectedNumber:a,isRowSelected:m,clearSelection:q,updateSelection:C}}function Ke(e){return Array.isArray(e)?e.slice():[]}const Tl={expanded:Array},Vl=["update:expanded"];function pl(e,l){const o=I(Ke(e.expanded));j(()=>e.expanded,n=>{o.value=Ke(n)});function v(n){return o.value.includes(n)}function s(n){e.expanded!==void 0?l("update:expanded",n):o.value=n}function d(n,i){const c=o.value.slice(),g=c.indexOf(n);i===!0?g===-1&&(c.push(n),s(c)):g!==-1&&(c.splice(g,1),s(c))}return{isRowExpanded:v,setExpanded:s,updateExpanded:d}}const Fl={visibleColumns:Array};function Ol(e,l,o){const v=r(()=>{if(e.columns!==void 0)return e.columns;const i=e.rows[0];return i!==void 0?Object.keys(i).map(c=>({name:c,label:c.toUpperCase(),field:c,align:Te(i[c])?"right":"left",sortable:!0})):[]}),s=r(()=>{const{sortBy:i,descending:c}=l.value;return(e.visibleColumns!==void 0?v.value.filter(a=>a.required===!0||e.visibleColumns.includes(a.name)===!0):v.value).map(a=>{const m=a.align||"right",q=`text-${m}`;return{...a,align:m,__iconClass:`q-table__sort-icon q-table__sort-icon--${m}`,__thClass:q+(a.headerClasses!==void 0?" "+a.headerClasses:"")+(a.sortable===!0?" sortable":"")+(a.name===i?` sorted ${c===!0?"sort-desc":""}`:""),__tdStyle:a.style!==void 0?typeof a.style!="function"?()=>a.style:a.style:()=>null,__tdClass:a.classes!==void 0?typeof a.classes!="function"?()=>q+" "+a.classes:C=>q+" "+a.classes(C):()=>q}})}),d=r(()=>{const i={};return s.value.forEach(c=>{i[c.name]=c}),i}),n=r(()=>e.tableColspan!==void 0?e.tableColspan:s.value.length+(o.value===!0?1:0));return{colList:v,computedCols:s,computedColsMap:d,computedColspan:n}}const ge="q-table__bottom row items-center",at={};tt.forEach(e=>{at[e]={}});var Ul=G({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...at,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...me,...gl,...Fl,..._l,...ql,...Tl,...xl,...Sl},emits:["request","virtualScroll",...bl,...Vl,...Bl],setup(e,{slots:l,emit:o}){const v=J(),{proxy:{$q:s}}=v,d=ye(e,s),{inFullscreen:n,toggleFullscreen:i}=ml(),c=r(()=>typeof e.rowKey=="function"?e.rowKey:t=>t[e.rowKey]),g=I(null),a=I(null),m=r(()=>e.grid!==!0&&e.virtualScroll===!0),q=r(()=>" q-table__card"+(d.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),C=r(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":q.value)+(d.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(n.value===!0?" fullscreen scroll":"")),k=r(()=>C.value+(e.loading===!0?" q-table--loading":""));j(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+C.value,()=>{m.value===!0&&a.value!==null&&a.value.reset()});const{innerPagination:P,computedPagination:S,isServerSide:F,requestServerInteraction:T,setPagination:$}=Cl(v,Z),{computedFilterMethod:x}=wl(e,$),{isRowExpanded:V,setExpanded:X,updateExpanded:Se}=pl(e,o),Q=r(()=>{let t=e.rows;if(F.value===!0||t.length===0)return t;const{sortBy:f,descending:b}=S.value;return e.filter&&(t=x.value(t,e.filter,E.value,Z)),ot.value!==null&&(t=rt.value(e.rows===t?t.slice():t,f,b)),t}),te=r(()=>Q.value.length),N=r(()=>{let t=Q.value;if(F.value===!0)return t;const{rowsPerPage:f}=S.value;return f!==0&&(oe.value===0&&e.rows!==t?t.length>re.value&&(t=t.slice(0,re.value)):t=t.slice(oe.value,re.value)),t}),{hasSelectionMode:H,singleSelection:L,multipleSelection:h,allRowsSelected:w,someRowsSelected:U,rowsSelectedNumber:M,isRowSelected:Y,clearSelection:K,updateSelection:p}=Rl(e,o,N,c),{colList:nt,computedCols:E,computedColsMap:pe,computedColspan:Fe}=Ol(e,S,H),{columnToSort:ot,computedSortMethod:rt,sort:he}=hl(e,S,nt,$),{firstRowIndex:oe,lastRowIndex:re,isFirstPage:_e,isLastPage:we,pagesNumber:ie,computedRowsPerPageOptions:it,computedRowsNumber:ue,firstPage:Pe,prevPage:qe,nextPage:Ce,lastPage:ke}=kl(v,P,S,F,$,te),ut=r(()=>N.value.length===0),st=r(()=>{const t={};return tt.forEach(f=>{t[f]=e[f]}),t.virtualScrollItemSize===void 0&&(t.virtualScrollItemSize=e.dense===!0?28:48),t});function ct(){m.value===!0&&a.value.reset()}function dt(){if(e.grid===!0)return qt();const t=e.hideHeader!==!0?Ne:null;if(m.value===!0){const b=l["top-row"],y=l["bottom-row"],_={default:R=>$e(R.item,l.body,R.index)};if(b!==void 0){const R=u("tbody",b({cols:E.value}));_.before=t===null?()=>R:()=>[t()].concat(R)}else t!==null&&(_.before=t);return y!==void 0&&(_.after=()=>u("tbody",y({cols:E.value}))),u(dl,{ref:a,class:e.tableClass,style:e.tableStyle,...st.value,scrollTarget:e.virtualScrollTarget,items:N.value,type:"__qtable",tableColspan:Fe.value,onVirtualScroll:ft},_)}const f=[gt()];return t!==null&&f.unshift(t()),lt({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},f)}function vt(t,f){if(a.value!==null){a.value.scrollTo(t,f);return}t=parseInt(t,10);const b=g.value.querySelector(`tbody tr:nth-of-type(${t+1})`);if(b!==null){const y=g.value.querySelector(".q-table__middle.scroll"),_=b.offsetTop-e.virtualScrollStickySizeStart,R=_<y.scrollTop?"decrease":"increase";y.scrollTop=_,o("virtualScroll",{index:t,from:0,to:P.value.rowsPerPage-1,direction:R})}}function ft(t){o("virtualScroll",t)}function Oe(){return[u(fl,{class:"q-table__linear-progress",color:e.color,dark:d.value,indeterminate:!0,trackColor:"transparent"})]}function $e(t,f,b){const y=c.value(t),_=Y(y);if(f!==void 0)return f(Le({key:y,row:t,pageIndex:b,__trClass:_?"selected":""}));const R=l["body-cell"],B=E.value.map(O=>{const ce=l[`body-cell-${O.name}`],de=ce!==void 0?ce:R;return de!==void 0?de(bt({key:y,row:t,pageIndex:b,col:O})):u("td",{class:O.__tdClass(t),style:O.__tdStyle(t)},Z(O,t))});if(H.value===!0){const O=l["body-selection"],ce=O!==void 0?O(mt({key:y,row:t,pageIndex:b})):[u(Re,{modelValue:_,color:e.color,dark:d.value,dense:e.dense,"onUpdate:modelValue":(de,Ct)=>{p([y],[t],de,Ct)}})];B.unshift(u("td",{class:"q-table--col-auto-width"},ce))}const A={key:y,class:{selected:_}};return e.onRowClick!==void 0&&(A.class["cursor-pointer"]=!0,A.onClick=O=>{o("RowClick",O,t,b)}),e.onRowDblclick!==void 0&&(A.class["cursor-pointer"]=!0,A.onDblclick=O=>{o("RowDblclick",O,t,b)}),e.onRowContextmenu!==void 0&&(A.class["cursor-pointer"]=!0,A.onContextmenu=O=>{o("RowContextmenu",O,t,b)}),u("tr",A,B)}function gt(){const t=l.body,f=l["top-row"],b=l["bottom-row"];let y=N.value.map((_,R)=>$e(_,t,R));return f!==void 0&&(y=f({cols:E.value}).concat(y)),b!==void 0&&(y=y.concat(b({cols:E.value}))),u("tbody",y)}function Le(t){return xe(t),t.cols=t.cols.map(f=>le({...f},"value",()=>Z(f,t.row))),t}function bt(t){return xe(t),le(t,"value",()=>Z(t.col,t.row)),t}function mt(t){return xe(t),t}function xe(t){Object.assign(t,{cols:E.value,colsMap:pe.value,sort:he,rowIndex:oe.value+t.pageIndex,color:e.color,dark:d.value,dense:e.dense}),H.value===!0&&le(t,"selected",()=>Y(t.key),(f,b)=>{p([t.key],[t.row],f,b)}),le(t,"expand",()=>V(t.key),f=>{Se(t.key,f)})}function Z(t,f){const b=typeof t.field=="function"?t.field(f):f[t.field];return t.format!==void 0?t.format(b,f):b}const ee=r(()=>({pagination:S.value,pagesNumber:ie.value,isFirstPage:_e.value,isLastPage:we.value,firstPage:Pe,prevPage:qe,nextPage:Ce,lastPage:ke,inFullscreen:n.value,toggleFullscreen:i}));function yt(){const t=l.top,f=l["top-left"],b=l["top-right"],y=l["top-selection"],_=H.value===!0&&y!==void 0&&M.value>0,R="q-table__top relative-position row items-center";if(t!==void 0)return u("div",{class:R},[t(ee.value)]);let B;if(_===!0?B=y(ee.value).slice():(B=[],f!==void 0?B.push(u("div",{class:"q-table__control"},[f(ee.value)])):e.title&&B.push(u("div",{class:"q-table__control"},[u("div",{class:["q-table__title",e.titleClass]},e.title)]))),b!==void 0&&(B.push(u("div",{class:"q-table__separator col"})),B.push(u("div",{class:"q-table__control"},[b(ee.value)]))),B.length!==0)return u("div",{class:R},B)}const Me=r(()=>U.value===!0?null:w.value);function Ne(){const t=St();return e.loading===!0&&l.loading===void 0&&t.push(u("tr",{class:"q-table__progress"},[u("th",{class:"relative-position",colspan:Fe.value},Oe())])),u("thead",t)}function St(){const t=l.header,f=l["header-cell"];if(t!==void 0)return t(Be({header:!0})).slice();const b=E.value.map(y=>{const _=l[`header-cell-${y.name}`],R=_!==void 0?_:f,B=Be({col:y});return R!==void 0?R(B):u(rl,{key:y.name,props:B},()=>y.label)});if(L.value===!0&&e.grid!==!0)b.unshift(u("th",{class:"q-table--col-auto-width"}," "));else if(h.value===!0){const y=l["header-selection"],_=y!==void 0?y(Be({})):[u(Re,{color:e.color,modelValue:Me.value,dark:d.value,dense:e.dense,"onUpdate:modelValue":De})];b.unshift(u("th",{class:"q-table--col-auto-width"},_))}return[u("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},b)]}function Be(t){return Object.assign(t,{cols:E.value,sort:he,colsMap:pe.value,color:e.color,dark:d.value,dense:e.dense}),h.value===!0&&le(t,"selected",()=>Me.value,De),t}function De(t){U.value===!0&&(t=!1),p(N.value.map(c.value),N.value,t)}const se=r(()=>{const t=[e.iconFirstPage||s.iconSet.table.firstPage,e.iconPrevPage||s.iconSet.table.prevPage,e.iconNextPage||s.iconSet.table.nextPage,e.iconLastPage||s.iconSet.table.lastPage];return s.lang.rtl===!0?t.reverse():t});function ht(){if(e.hideBottom===!0)return;if(ut.value===!0){if(e.hideNoData===!0)return;const b=e.loading===!0?e.loadingLabel||s.lang.table.loading:e.filter?e.noResultsLabel||s.lang.table.noResults:e.noDataLabel||s.lang.table.noData,y=l["no-data"],_=y!==void 0?[y({message:b,icon:s.iconSet.table.warning,filter:e.filter})]:[u(Ve,{class:"q-table__bottom-nodata-icon",name:s.iconSet.table.warning}),b];return u("div",{class:ge+" q-table__bottom--nodata"},_)}const t=l.bottom;if(t!==void 0)return u("div",{class:ge},[t(ee.value)]);const f=e.hideSelectedBanner!==!0&&H.value===!0&&M.value>0?[u("div",{class:"q-table__control"},[u("div",[(e.selectedRowsLabel||s.lang.table.selectedRecords)(M.value)])])]:[];if(e.hidePagination!==!0)return u("div",{class:ge+" justify-end"},wt(f));if(f.length>0)return u("div",{class:ge},f)}function _t(t){$({page:1,rowsPerPage:t.value})}function wt(t){let f;const{rowsPerPage:b}=S.value,y=e.paginationLabel||s.lang.table.pagination,_=l.pagination,R=e.rowsPerPageOptions.length>1;if(t.push(u("div",{class:"q-table__separator col"})),R===!0&&t.push(u("div",{class:"q-table__control"},[u("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||s.lang.table.recordsPerPage]),u(et,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:b,options:it.value,displayValue:b===0?s.lang.table.allRows:b,dark:d.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":_t})])),_!==void 0)f=_(ee.value);else if(f=[u("span",b!==0?{class:"q-table__bottom-item"}:{},[b?y(oe.value+1,Math.min(re.value,ue.value),ue.value):y(1,te.value,ue.value)])],b!==0&&ie.value>1){const B={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(B.size="sm"),ie.value>2&&f.push(u(W,{key:"pgFirst",...B,icon:se.value[0],disable:_e.value,onClick:Pe})),f.push(u(W,{key:"pgPrev",...B,icon:se.value[1],disable:_e.value,onClick:qe}),u(W,{key:"pgNext",...B,icon:se.value[2],disable:we.value,onClick:Ce})),ie.value>2&&f.push(u(W,{key:"pgLast",...B,icon:se.value[3],disable:we.value,onClick:ke}))}return t.push(u("div",{class:"q-table__control"},f)),t}function Pt(){const t=e.gridHeader===!0?[u("table",{class:"q-table"},[Ne()])]:e.loading===!0&&l.loading===void 0?Oe():void 0;return u("div",{class:"q-table__middle"},t)}function qt(){const t=l.item!==void 0?l.item:f=>{const b=f.cols.map(_=>u("div",{class:"q-table__grid-item-row"},[u("div",{class:"q-table__grid-item-title"},[_.label]),u("div",{class:"q-table__grid-item-value"},[_.value])]));if(H.value===!0){const _=l["body-selection"],R=_!==void 0?_(f):[u(Re,{modelValue:f.selected,color:e.color,dark:d.value,dense:e.dense,"onUpdate:modelValue":(B,A)=>{p([f.key],[f.row],B,A)}})];b.unshift(u("div",{class:"q-table__grid-item-row"},R),u(Yt,{dark:d.value}))}const y={class:["q-table__grid-item-card"+q.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(y.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(y.onClick=_=>{o("RowClick",_,f.row,f.pageIndex)}),e.onRowDblclick!==void 0&&(y.onDblclick=_=>{o("RowDblclick",_,f.row,f.pageIndex)})),u("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(f.selected===!0?" q-table__grid-item--selected":"")},[u("div",y,b)])};return u("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},N.value.map((f,b)=>t(Le({key:c.value(f),row:f,pageIndex:b}))))}return Object.assign(v.proxy,{requestServerInteraction:T,setPagination:$,firstPage:Pe,prevPage:qe,nextPage:Ce,lastPage:ke,isRowSelected:Y,clearSelection:K,isRowExpanded:V,setExpanded:X,sort:he,resetVirtualScroll:ct,scrollTo:vt,getCellValue:Z}),At(v.proxy,{filteredSortedRows:()=>Q.value,computedRows:()=>N.value,computedRowsNumber:()=>ue.value}),()=>{const t=[yt()],f={ref:g,class:k.value};return e.grid===!0?t.push(Pt()):Object.assign(f,{class:[f.class,e.cardClass],style:e.cardStyle}),t.push(dt(),ht()),e.loading===!0&&l.loading!==void 0&&t.push(l.loading()),u("div",f,t)}}});export{rl as Q,zl as S,Il as a,Hl as b,Ul as c};
