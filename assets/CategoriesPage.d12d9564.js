import{Q as D}from"./QPage.b0984c75.js";import{a as B}from"./QLayout.171c6731.js";import{Q as g,a as w,b as E,c as F,S as I}from"./QTable.0dae5795.js";import{Q as y}from"./QCheckbox.a8a936e0.js";import{aD as A,aE as H,P as S,aH as L,r as C,S as d,U as c,V as a,j as t,W as r,_ as l,aF as p,$ as n,Q as i,Y as M,F as R,aS as j,D as h,aT as O,o as W,a2 as Q,Z as Y}from"./index.94fa42e8.js";import{Q as Z}from"./QTr.798f0df9.js";import{g as G,e as x,f as P}from"./QItemLabel.1e01a216.js";import{Q as J}from"./QList.cbde4cd1.js";import{e as K,Q as v}from"./QSelect.d2bb26c1.js";import{Q as X}from"./QSpace.41fc64f0.js";import{C as V}from"./ClosePopup.19d47213.js";import{u as ee}from"./vue-i18n.esm-bundler.61bc1595.js";import"./QCard.a4ca1398.js";import"./QSeparator.5d694be6.js";const $=A("categories",{state:()=>({categories:[]}),actions:{getCategories(){H(()=>import("./categories.dca2d85f.js"),[]).then(b=>{this.categories=b.default})}}}),te={class:"text-grey-5",style:{"font-weight":"500"}},ae={class:"row items-center q-pa-sm full-width"},le={class:"row items-center q-mr-md"},oe={class:"text-grey-7",style:{"font-size":"15px"}},se={class:"text-grey-8",style:{"font-size":"15px"}},re={class:"row items-center"},ne={class:"text-grey-7",style:{"font-size":"15px"}},ie={class:"row items-center"},de=S({__name:"CategoriesTable",props:["data"],setup(b){$();const{t:m}=ee(),_=L(),f=C([]),k=C(!1);function z(o){const u=[];for(let e=1;e<=o;e++)u.push(e);return u}function q(){_.push("categories/edit")}function U(){f.value.splice(0)}function N(o){setTimeout(()=>{O.create({type:"negative",position:"top-right",message:m("notification.categories.deleted")})},1e3)}return(o,u)=>(d(),c(F,{dense:"","table-class":"q-mx-none",flat:"",pagination:{rowsPerPage:10},"table-header-style":"font-weight: 500;font-size: 14px; background-color: #f2f2f2;","table-header-class":"text-grey-7 q-pa-none",rows:b.data,"row-key":"id",selected:f.value,"onUpdate:selected":u[1]||(u[1]=e=>f.value=e),selection:"multiple",columns:[{name:"id",label:"ID",field:"id",sortable:!0,headerStyle:"background-color: #f2f2f2;",align:"left"},{name:"name",label:`${o.$t("categories.table.tableHead.categoryName")}`,field:"name",sortable:!0,headerStyle:"background-color: #f2f2f2;",align:"left"},{name:"subcategory_amount",label:`${o.$t("categories.table.tableHead.subCategoryAmount")}`,field:"subcategory_amount",sortable:!0,headerStyle:"background-color: #f2f2f2;",align:"left"},{name:"subcategories",label:`${o.$t("categories.table.tableHead.subCategories")}`,field:"subcategories",sortable:!0,headerStyle:"background-color: #f2f2f2;",align:"left"},{name:"actions",label:"",field:"actions",headerStyle:"background-color: #f2f2f2;",align:"right"}]},{top:a(()=>[t(Z,{class:"item-center"},{default:a(()=>[t(y,{"model-value":k.value,"onUpdate:modelValue":u[0]||(u[0]=e=>k.value=e)},null,8,["model-value"]),r("span",te,l(f.value.length)+", "+l(o.$t("table.choose")),1),t(p,{"text-color":"grey-5",icon:"delete",flat:"",round:"",onClick:U})]),_:1})]),"header-cell-id":a(e=>[t(g,{class:"text-left",style:{"background-color":"#f2f2f2"},props:e},{default:a(()=>[n(l(e.col.label)+" ",1),t(i,{name:"filter_list",size:"sm",color:"indigo-10"})]),_:2},1032,["props"])]),"header-cell-name":a(e=>[t(g,{class:"text-left",style:{"background-color":"#f2f2f2"},props:e},{default:a(()=>[n(l(e.col.label)+" ",1),t(i,{name:"filter_list",size:"sm",color:"indigo-10"})]),_:2},1032,["props"])]),"header-cell-subcategory_amount":a(e=>[t(g,{class:"text-left",style:{"background-color":"#f2f2f2"},props:e},{default:a(()=>[n(l(e.col.label)+" ",1),t(i,{name:"filter_list",size:"sm",color:"indigo-10"})]),_:2},1032,["props"])]),"header-cell-subcategories":a(e=>[t(g,{class:"text-left",style:{"background-color":"#f2f2f2"},props:e},{default:a(()=>[n(l(e.col.label)+" ",1),t(i,{name:"filter_list",size:"sm",color:"indigo-10"})]),_:2},1032,["props"])]),"header-cell-actions":a(()=>[t(g,{class:"text-right",style:{"background-color":"#f2f2f2"}},{default:a(()=>[t(i,{name:"more_vert",size:"sm",color:"dark",class:"q-mr-xs"})]),_:1})]),"body-cell-subcategories":a(e=>[t(w,{props:e},{default:a(()=>[(d(!0),M(R,null,j(e.row.subcategories,(s,T)=>(d(),c(G,{key:T,style:{"background-color":"#9CDAFF"},square:"","text-color":"dark",class:"justify-center"},{default:a(()=>[n(l(s),1)]),_:2},1024))),128))]),_:2},1032,["props"])]),"body-cell-actions":a(e=>[t(w,{props:e},{default:a(()=>[t(p,{flat:"",icon:"more_vert",rounded:"",dense:""}),t(K,null,{default:a(()=>[t(J,{style:{"min-width":"100px"}},{default:a(()=>[h((d(),c(x,null,{default:a(()=>[t(P,null,{default:a(()=>[t(p,{dense:"",flat:"",class:"text-capitalize text-left","text-color":"grey-8",onClick:q},{default:a(()=>[t(i,{size:"xs",name:"edit",color:"positive",class:"on-left"}),n(" \u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C ")]),_:1})]),_:1})]),_:1})),[[V]]),h((d(),c(x,null,{default:a(()=>[t(P,null,{default:a(()=>[t(p,{dense:"",flat:"",class:"text-capitalize text-left","text-color":"grey-8"},{default:a(()=>[t(i,{name:"content_copy",size:"xs",color:"primary",class:"on-left"}),n(" \u0414\u0443\u0431\u043B\u0438\u0440\u043E\u0432\u0430\u0442\u044C ")]),_:1})]),_:1})]),_:1})),[[V]]),h((d(),c(x,null,{default:a(()=>[t(P,null,{default:a(()=>[t(p,{onClick:s=>N(e.row.id),dense:"",flat:"",class:"text-capitalize text-left","text-color":"grey-8"},{default:a(()=>[t(i,{name:"delete",size:"xs",color:"negative",class:"on-left"}),n(" \u0423\u0434\u0430\u043B\u0438\u0442\u044C ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)),[[V]])]),_:2},1024)]),_:2},1024)]),_:2},1032,["props"])]),"header-selection":a(e=>[t(y,{modelValue:e.selected,"onUpdate:modelValue":s=>e.selected=s},null,8,["modelValue","onUpdate:modelValue"])]),"body-selection":a(e=>[t(y,{modelValue:e.selected,"onUpdate:modelValue":s=>e.selected=s},null,8,["modelValue","onUpdate:modelValue"])]),bottom:a(e=>[r("div",ae,[r("div",le,[t(v,{"dropdown-icon":"expand_more",borderless:"",dense:"",modelValue:e.pagination.rowsPerPage,"onUpdate:modelValue":s=>e.pagination.rowsPerPage=s,options:[5,10,20,50],"emit-value":"",class:"q-mr-sm q-pl-md q-pr-sm bg-grey-3",style:{"border-radius":"12px"}},null,8,["modelValue","onUpdate:modelValue"]),r("span",oe,l(o.$t("table.elmPerPage")),1)]),r("div",se,l(e.pagination.rowsPerPage*e.pagination.page-e.pagination.rowsPerPage==0?1:e.pagination.rowsPerPage*e.pagination.page-e.pagination.rowsPerPage)+" - "+l(e.pagination.rowsPerPage*e.pagination.page)+" "+l(o.$t("table.from"))+" "+l(1)+" "+l(o.$t("table.items")),1),t(X),r("div",re,[t(v,{"dropdown-icon":"expand_more",borderless:"",dense:"",modelValue:e.pagination.page,"onUpdate:modelValue":s=>e.pagination.page=s,options:z(e.pagesNumber),"emit-value":"",class:"q-mr-sm q-pl-md q-pr-sm bg-grey-3",style:{"border-radius":"12px"}},null,8,["modelValue","onUpdate:modelValue","options"]),r("span",ne,l(o.$t("table.from"))+" "+l(e.pagesNumber)+" "+l(o.$t("table.pages")),1)]),r("div",ie,[t(E,{dense:"",modelValue:e.pagination.page,"onUpdate:modelValue":s=>e.pagination.page=s,min:1,"no-number":"",max:e.pagesNumber,"direction-links":"",color:"grey"},null,8,["modelValue","onUpdate:modelValue","max"])])])]),_:1},8,["rows","selected","columns"]))}}),ue={class:"text-h5 text-weight-bold"},Ce=S({__name:"CategoriesPage",setup(b){const m=$();return W(()=>{m.getCategories()}),(_,f)=>(d(),c(B,null,{default:a(()=>[t(D,{class:"q-pa-md main__container"},{default:a(()=>[r("h1",ue,l(_.$t("categories.title")),1),t(I,{dynamicRoute:"categories/add",isModal:!1}),Q(m).categories?(d(),c(de,{key:0,data:Q(m).categories,class:"q-mt-md"},null,8,["data"])):Y("",!0)]),_:1})]),_:1}))}});export{Ce as default};
